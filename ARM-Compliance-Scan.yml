---
- name: Running Compliance against RHEL
  hosts:
    rhel
  become: true
  vars:
    ansible_user: az_pass
    ansible_password: Password@123
  tasks:
  
  - name: Add Subscription to RHEL
    redhat_subscription:
      state: present
      username: "{{ subscription_user }}" 
      password: "{{ subscription_pass }}" 
      auto_attach: true


- name: Running Compliance against RHEL
  hosts:
    rhel
  become: true
  vars:
    ansible_user: az_pass
    ansible_password: Password@123
  roles:
    - oscap-rhel
   

# - name: Running Compliance against Centos
#   hosts:
#     tag_Name_centos
#   become: true
#   roles:
#     - oscap-centos

# - name: Running Compliance against Ubuntu
#   hosts:
#     tag_Name_ubuntu
#   become: true
#  roles:
#    - oscap-ubuntu
  


    
    
    


